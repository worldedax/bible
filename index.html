<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Случайный стих из Библии</title>
</head>
<body>
  <h1>Библейская цитата</h1>
  <div id="verse">Загрузка...</div>
  <button onclick="getVerse()">Получить стих</button>

  <script>
    async function getVerse() {
      const verseDiv = document.getElementById("verse");
      verseDiv.textContent = "Загрузка...";

      try {
        // Получаем случайный стих на английском
        const res = await fetch("https://bible-api.com/?random=1 ");
        const data = await res.json();
        const enVerse = data.verses[0];

        // Переводим через LibreTranslate
        const translateRes = await fetch("https://libretranslate.de/translate ", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            q: enVerse.text,
            source: "en",
            target: "ru"
          })
        });

        const translated = await translateRes.json();

        verseDiv.innerHTML = `
          <p><strong>${enVerse.book_name} ${enVerse.chapter}:${enVerse.verse}</strong></p>
          <p>"${translated.translatedText}"</p>
        `;

      } catch (err) {
        console.error(err);
        verseDiv.textContent = "Ошибка загрузки стиха";
      }
    }
  </script>
</body>
</html>
